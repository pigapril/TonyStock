/* 引入 Loading 樣式 */
@import '../Loading/Loading.css';

.market-sentiment {
  padding: 20px;
}

/* 左側面板標題設計 - 蘋果風格優化 */
.market-sentiment-view .left-panel .panel-header {
  text-align: center;
  margin-bottom: 24px;
  padding: 0 16px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.market-sentiment-view .left-panel .panel-title {
  font-size: 1.75rem;
  font-weight: 600;
  color: #1d1d1f;
  margin: 0 0 12px 0;
  text-align: center;
  letter-spacing: -0.022em;
  line-height: 1.2;
  display: flex;
  flex-direction: column;
  gap: 4px;
  justify-content: center;
  align-items: center;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
}

.market-sentiment-view .left-panel .panel-title-brand {
  display: block !important;
  font-size: 1em;
  font-weight: 600;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  visibility: visible !important;
  white-space: nowrap;
  margin-bottom: 2px;
}

.market-sentiment-view .left-panel .panel-title-index {
  display: block !important;
  font-size: 0.85em;
  font-weight: 500;
  opacity: 0.8;
  visibility: visible !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  min-height: 1.2em;
  line-height: 1.3;
  white-space: nowrap;
  letter-spacing: -0.01em;
}

/* Header 內的 subtitle container */
.market-sentiment-view .left-panel .panel-header .panel-subtitle-container {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  flex-wrap: wrap;
  margin: 0 0 8px 0;
  padding: 0 8px;
  width: 100%;
}

/* Gauge 內的 subtitle container - 包含 Current Market Sentiment 和 Last Update Time */
.market-sentiment-view .left-panel .gauge-sentiment-container .panel-subtitle-container {
  position: absolute;
  bottom: 3%;
  left: 50%;
  transform: translateX(-50%);
  margin: 0;
  width: 90%;
  z-index: 10;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  /* 移除卡片效果 */
  background: none;
  backdrop-filter: none;
  border-radius: 0;
  padding: 0;
  box-shadow: none;
  border: none;
}

/* 響應式調整：不同螢幕尺寸下的定位 */
@media (max-width: 1023px) {
  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-subtitle-container {
    bottom: -1% !important;
    width: 92%;
  }

  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-last-update-time {
    font-size: 0.65rem;
    margin-top: 4px;
  }
}

@media (max-width: 768px) {
  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-subtitle-container {
    bottom: -3% !important;
    width: 94%;
  }

  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-last-update-time {
    font-size: 0.6rem;
    margin-top: 3px;
  }

  /* 為 768px 以下增加高度 */
  .market-sentiment-view .left-panel {
    min-height: 360px !important;
  }
}

@media (max-width: 480px) {
  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-subtitle-container {
    bottom: -2% !important;
    width: 96%;
  }

  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-last-update-time {
    font-size: 0.55rem;
    margin-top: 2px;
  }

  /* 增加 left-panel 高度以容納下移的元素 */
  .market-sentiment-view .left-panel {
    min-height: 360px !important;
  }
}

/* 額外的小螢幕調整 */
@media (max-width: 390px) {
  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-subtitle-container {
    bottom: -1% !important;
    width: 98%;
  }

  .market-sentiment-view .left-panel .gauge-sentiment-container .panel-last-update-time {
    font-size: 0.5rem;
    margin-top: 1px;
  }

  /* 超小螢幕需要更多高度 */
  .market-sentiment-view .left-panel {
    min-height: 330px !important;
  }
}

.market-sentiment-view .left-panel .panel-subtitle {
  font-size: 0.875rem;
  color: #86868b;
  margin: 0;
  font-weight: 400;
  line-height: 1.4;
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
}

.market-sentiment-view .left-panel .panel-sentiment-value {
  font-size: 0.875rem;
  font-weight: 500;
  margin: 0;
  line-height: 1.4;
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
}

/* Last Update Time - 在 gauge 容器內，Current Market Sentiment 下方 */
.market-sentiment-view .left-panel .gauge-sentiment-container .panel-last-update-time {
  font-size: 0.7rem;
  color: #86868b;
  font-weight: 400;
  line-height: 1.4;
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
  margin-top: 6px;
  text-align: center;
  width: 100%;
  /* 移除外框和背景 */
  padding: 0;
  border-radius: 0;
  border: none;
  background: none;
  box-shadow: none;
  white-space: nowrap;
  z-index: 20;
}

/* 桌面版本優化 - 蘋果風格 */
@media (min-width: 1024px) {
  .market-sentiment-view .left-panel .panel-header {
    padding: 0 24px;
    margin-bottom: 32px;
  }

  .market-sentiment-view .left-panel .panel-title {
    font-size: 2rem;
    margin-bottom: 16px;
  }

  .market-sentiment-view .left-panel .panel-title-brand {
    font-size: 1em;
    margin-bottom: 4px;
  }

  .market-sentiment-view .left-panel .panel-title-index {
    font-size: 0.8em;
  }

  /* Header 內的 subtitle container */


  .market-sentiment-view .left-panel .panel-subtitle,
  .market-sentiment-view .left-panel .panel-sentiment-value {
    font-size: 0.9rem;
  }


}

@media (max-width: 1023px) {
  .market-sentiment-view .left-panel .panel-header {
    margin-bottom: 20px;
    padding: 0 20px;
  }

  .market-sentiment-view .left-panel .panel-title {
    font-size: 1.625rem;
    margin-bottom: 10px;
  }

  .market-sentiment-view .left-panel .panel-title-brand {
    font-size: 1em;
    display: block !important;
  }

  .market-sentiment-view .left-panel .panel-title-index {
    font-size: 0.82em !important;
    display: block !important;
    visibility: visible !important;
  }

  /* Header 內的 subtitle container */


  .market-sentiment-view .left-panel .panel-subtitle,
  .market-sentiment-view .left-panel .panel-sentiment-value {
    font-size: 0.8rem;
  }


}

@media (max-width: 768px) {
  .market-sentiment-view .left-panel .panel-header {
    margin-bottom: 16px;
    padding: 0 16px;
  }

  .market-sentiment-view .left-panel .panel-title {
    font-size: 1.5rem;
    margin-bottom: 8px;
  }

  .market-sentiment-view .left-panel .panel-title-brand {
    font-size: 1em;
    display: block !important;
  }

  .market-sentiment-view .left-panel .panel-title-index {
    font-size: 0.8em !important;
    display: block !important;
    visibility: visible !important;
  }

  /* Header 內的 subtitle container */


  .market-sentiment-view .left-panel .panel-subtitle,
  .market-sentiment-view .left-panel .panel-sentiment-value {
    font-size: 0.75rem;
  }


}

@media (max-width: 480px) {
  .market-sentiment-view .left-panel .panel-header {
    margin-bottom: 12px;
    padding: 0 12px;
  }

  .market-sentiment-view .left-panel .panel-title {
    font-size: 1.375rem;
    margin-bottom: 6px;
  }

  .market-sentiment-view .left-panel .panel-title-brand {
    font-size: 1em;
    display: block !important;
  }

  .market-sentiment-view .left-panel .panel-title-index {
    font-size: 0.75em !important;
    display: block !important;
    visibility: visible !important;
  }

  /* Header 內的 subtitle container */


  .market-sentiment-view .left-panel .panel-subtitle,
  .market-sentiment-view .left-panel .panel-sentiment-value {
    font-size: 0.7rem;
  }


}

.composite-score {
  margin-bottom: 20px;
}


.indicators-list {
  display: flex;
  flex-direction: column;
}


.real-data {
  color: green;
}

.simulated-data {
  color: red;
}

.indicator-description {
  margin-top: 10px;
  font-size: 14px;
  color: #555;
}

.chart-container {
  position: relative;
  width: 100%;
  height: 450px;
  /* 根據需要調整高度 */
}

/* 確保市場情緒指數頁面在小螢幕上顯示良好 */
.market-sentiment-view .market-sentiment-index {
  overscroll-behavior: contain;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}

/* 在市場情緒指數頁面中置中 TimeRangeSelector */
.market-sentiment-view .indicator-item .time-range-selector,
.composition-modal .indicator-item .time-range-selector {
  justify-content: center;
  margin: 3% auto;
  width: fit-content;
}

.market-sentiment-view .last-update-time {
  position: absolute;
  bottom: -8%;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  text-align: center;
  color: #666;
  font-size: 12px;
  z-index: 1;
}

/* 新增以下部分 */
@media (max-width: 768px) {
  .market-sentiment-view .indicator-list {
    flex-direction: column;
    /* 小螢幕上垂直排列 */
  }

  .market-sentiment-view .indicator-chart {
    height: 200px;
    /* 調整圖表高度 */
  }
}

/* 確保圖表卡片的寬度一致 */
.market-sentiment-view .sentiment-dashboard {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  gap: 20px;
}

.market-sentiment-view .sentiment-chart-card {
  width: calc(33.333% - 20px);
  /* 每列顯示三個圖表卡片減去間距 */
  background-color: white;
  border-radius: 1px;
  padding: 20px;
  box-sizing: border-box;
}

@media (max-width: 1024px) {
  .market-sentiment-view .sentiment-chart-card {
    width: calc(50% - 20px);
    /* 中等螢幕每列顯示兩個圖表卡片 */
  }
}


@media (max-width: 768px) {
  .market-sentiment-view .sentiment-dashboard {
    flex-direction: column;
  }

  .market-sentiment-view .sentiment-chart-card {
    width: 100%;
    /* 小螢幕上圖表卡片佔據全寬 */
  }
}

/* 調整指標列表的佈局 */
.market-sentiment-view .indicator-list {
  display: flex;
  flex-direction: column;
  /* 垂直排列 */
  gap: 20px;
  width: 100%;
  box-sizing: border-box;
}

/* 調整指標項目的樣式 */
.market-sentiment-view .indicator-item {
  width: 100%;
  background-color: white;
  padding: 20px 20px 70px 20px;
  /* Padding accommodates absolutely positioned view-mode-selector */
  position: relative;
  border-radius: 8px;
  box-sizing: border-box;
  margin-bottom: 30px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
}

/* 調整圖表區域的樣式 */
.market-sentiment-view .indicator-chart {
  height: 100%;
  width: 100%;
  flex-grow: 1;
}

.market-sentiment-view .indicator-chart-container {
  width: 100%;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  min-height: 0;
}


/* 移除大螢幕桌面版面配置的特殊處理 */

.market-sentiment-view .analysis-description {
  margin-top: 30px;
  /* 增加頂部間距 */
  margin-bottom: 20px;
  font-size: 16px;
  line-height: 1.6;
  color: #333;
  max-width: 100%;
  width: 100%;
  text-align: justify;
  hyphens: auto;
  word-wrap: break-word;
}

/* 移除以下 h3 樣式 */
/* .indicator-item h3 {
  font-size: 20px;
  color: #333;
  margin: 0 0 10px 0;
  padding: 0;
} */

.market-sentiment-view .tabs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
  /* 減小最小寬度 */
  gap: 8px;
  /* 稍微減小間距 */
  margin-bottom: 20px;
  justify-content: center;
  /* 水平分布 */
  display: none !important;
  /* Hide the tabs grid */
}

.market-sentiment-view .tab-button {
  padding: 8px 5px;
  /* 減小上下內邊距，左右內邊距更小 */
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
  /* 減小字體大小 */
  text-align: center;
  transition: all 0.3s ease;
  background-color: #e0e0e0;
  color: #333;
  white-space: nowrap;
  /* 防止文字換行 */
  overflow: hidden;
  /* 隱藏溢出的文字 */
  text-overflow: ellipsis;
  /* 使用省略號表示溢出的文字 */
  line-height: 1.2;
  /* 調整行高 */
}

.market-sentiment-view .tab-button.active {
  background-color: #4a4a4a;
  color: white;
}

/* 在小螢幕上進一步調整 */
@media (max-width: 768px) {
  .market-sentiment-view .tabs-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    /* 進一步減小最小寬度 */
  }

  .market-sentiment-view .tab-button {
    font-size: 11px;
    /* 在小螢幕上進一步減小字體 */
    padding: 6px 4px;
    /* 在小螢幕上進一步減小內邊距 */
  }
}

.market-sentiment-view .tab-content {
  /* background-color: white; */
  /* 移除背景色 */
  /* border-radius: 8px; */
  /* 如果 indicator-item 總是有 radius，這裡也可以考慮移除 */
  /* padding: 0; */
  /* box-shadow: 0 2px 4px rgba(0,0,0,0.1); */
  /* 移除陰影 */
  /* indicator-item 將提供卡片視覺效果 */
}

/* 新增：主內容區域佈局 */
.market-sentiment-view .content-layout-container {
  display: flex;
  flex-direction: column;
  /* 預設垂直排列，適用於小螢幕 */
  gap: 20px;
  /* 垂直和水平間距 */
  margin-top: 20px;
  /* 與上方 tabs 的間距 */
  height: 80vh;
  /* 改為 80% 的 viewport height */
  max-height: 80vh;
  /* 全局最大高度限制也改為 80vh */
}

/* 桌面版左右並列佈局 - 使用更靈活的高度設定 */
@media (min-width: 1024px) {
  .market-sentiment-view .content-layout-container {
    flex-direction: row;
    align-items: stretch;
    min-height: 500px;
    /* Minimum height to ensure usability */
    height: auto;
    /* Auto height based on content */
  }
}

/* 左側面板樣式 */
.market-sentiment-view .left-panel {
  flex: 0 0 35%;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 20px;
  display: flex;
  flex-direction: column;
  min-height: 0;
  gap: 0;
  position: relative;
  /* 為絕對定位的 last-update-time 提供定位上下文 */
}

/* 新增：創建一個包含 gauge 和 sentiment 的容器 */
.market-sentiment-view .left-panel .gauge-sentiment-container {
  flex: 1;
  position: relative;
  min-height: 0;
  width: 100%;
  /* 簡化佈局，讓 gauge 直接佔據空間，不使用 flex 以避免佈局衝突 */
}

/* 右側面板樣式 */
.market-sentiment-view .right-panel {
  flex: 1;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  padding: 20px;
  display: flex;
  flex-direction: column;
  min-width: 0;
  min-height: 0;
}

/* 右側面板的視圖模式選擇器 */
.market-sentiment-view .right-panel .view-mode-selector-container {
  display: flex;
  gap: 8px;
  background-color: #f5f5f7;
  padding: 4px;
  border-radius: 8px;
  margin-bottom: 8px;
  width: fit-content;
  justify-content: center;
  margin-left: auto;
  margin-right: auto;
}

.market-sentiment-view .right-panel .view-mode-button {
  padding: 8px 16px;
  border: none;
  background: none;
  cursor: pointer;
  border-radius: 6px;
  font-size: 14px;
  font-weight: 500;
  color: #1d1d1f;
  transition: all 0.2s ease;
  position: relative;
  white-space: nowrap;
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
  min-width: auto;
  flex: none;
}

.market-sentiment-view .right-panel .view-mode-button:hover {
  color: #86868b;
}

.market-sentiment-view .right-panel .view-mode-button.active {
  background-color: #ffffff;
  color: #1d1d1f;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* 右側面板的內容區域 */
.market-sentiment-view .content-area {
  flex: 1;
  min-height: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  margin-top: 0
}

/* 左側面板現在使用 MarketSentimentGauge 組件 */

/* 左側面板中的 MarketSentimentGauge 樣式調整 */
.market-sentiment-view .left-panel .market-sentiment-gauge {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* 新增：確保 gauge 在新容器中正確定位 */
.market-sentiment-view .left-panel .gauge-sentiment-container .market-sentiment-gauge {
  width: 100%;
  height: 100%;
  /* 讓 gauge 完全填滿容器，與原本的行為一致 */
}

/* 響應式調整 for left panel analysis-result */
@media (max-width: 768px) {
  .market-sentiment-view .left-panel .analysis-result {
    padding: 10px;
  }

  .market-sentiment-view .left-panel .analysis-result .analysis-value {
    font-size: 1.2em;
  }

  .market-sentiment-view .right-panel .view-mode-selector-container {
    width: 100%;
    justify-content: stretch;
  }

  .market-sentiment-view .right-panel .view-mode-button {
    flex: 1;
    text-align: center;
    padding: 8px 8px;
    font-size: 13px;
  }
}

/* 中等桌面尺寸 (1281px-1599px) - 適用於 1534x864 等 */
@media (min-width: 1281px) and (max-width: 1599px) {
  .market-sentiment-view .content-layout-container {
    min-height: 500px;
    /* Minimum height for medium desktop screens */
    height: auto;
    /* Auto height based on content */
  }

  /* Optimize composition list for medium desktop screens */
  .composition-item {
    padding: 7px 10px;
    margin-bottom: 1px;
  }

  .composition-list {
    gap: 4px;
  }
}

/* 大中等桌面尺寸 (1600px-1919px) */
@media (min-width: 1600px) and (max-width: 1919px) {
  .market-sentiment-view .content-layout-container {
    min-height: 500px;
    /* Minimum height for large desktop screens */
    height: auto;
    /* Auto height based on content */
  }
}

/* 大桌面尺寸 (1920px+) */
@media (min-width: 1920px) {
  .market-sentiment-view .content-layout-container {
    min-height: 500px;
    /* Minimum height for very large screens */
    height: auto;
    /* Auto height based on content */
  }
}

@media (max-width: 820px) {
  .market-sentiment-view .content-layout-container {
    height: 100vh;
    max-height: 100vh;
  }
}

/* .tab-content 的樣式已在上方定義，此處註解掉重複或不再需要的規則 */
/* .market-sentiment-view .tab-content { */
/* box-shadow 和 border-radius 已有，保持即可 */
/* 移除固定的 padding，讓子元件控制 */
/* padding: 0; */
/* 在 flex 佈局中，不需要 width: 100% */
/* } */

/* 移除不再需要的 description-container-wrapper 樣式 */

@media (max-width: 430px) {
  .market-sentiment-view .content-layout-container {
    height: 100vh;
    max-height: 100vh;
  }

  .market-sentiment-view .content-layout-container .tab-content .indicator-item {
    height: 70vh;
    max-height: 70vh;
    /* 全局最大高度限制 */
  }

  .market-sentiment-view .indicator-item .indicator-chart {
    height: 250px;
  }

  .market-sentiment-view .indicator-item .time-range-selector {
    margin: 3% auto;
  }

  .market-sentiment-view .description-scroll-content .description-container {
    padding-top: 5px;
  }

  /* Gauge 相關樣式已移至 MarketSentimentGauge 組件 */
}

/* 移除舊的 1024px 規則，因為已經在上面重新定義了 */

/* 新增情緒文字顏色 - 適用於所有 analysis-value */
.market-sentiment-view .analysis-value.sentiment-extremeFear {
  color: #0000FF !important;
  /* 極度恐懼 - 深藍色 */
}

.market-sentiment-view .analysis-value.sentiment-fear {
  color: #5B9BD5 !important;
  /* 恐懼 - 藍色 */
}

.market-sentiment-view .analysis-value.sentiment-neutral {
  color: #708090 !important;
  /* 中性 - 灰色 */
}

.market-sentiment-view .analysis-value.sentiment-greed {
  color: #F0B8CE !important;
  /* 貪婪 - 粉色 */
}

.market-sentiment-view .analysis-value.sentiment-extremeGreed {
  color: #D24A93 !important;
  /* 極度貪婪 - 深粉色 */
}

/* 確保左側面板的 analysis-value 也有顏色效果 */
.market-sentiment-view .left-panel .analysis-result .analysis-value.sentiment-extremeFear {
  color: #0000FF !important;
}

.market-sentiment-view .left-panel .analysis-result .analysis-value.sentiment-fear {
  color: #5B9BD5 !important;
}

.market-sentiment-view .left-panel .analysis-result .analysis-value.sentiment-neutral {
  color: #708090 !important;
}

.market-sentiment-view .left-panel .analysis-result .analysis-value.sentiment-greed {
  color: #F0B8CE !important;
}

.market-sentiment-view .left-panel .analysis-result .analysis-value.sentiment-extremeGreed {
  color: #D24A93 !important;
}

/* 新增：左側面板標題中的情緒值特殊設計 */
.market-sentiment-view .left-panel .panel-sentiment-value {
  position: relative;
  padding: 8px 16px;
  border-radius: 20px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(10px);
  border: 2px solid transparent;
  background-clip: padding-box;
  animation: sentimentPulse 1.8s ease-in-out infinite;
  transform-origin: center;
}

.market-sentiment-view .left-panel .panel-sentiment-value::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: 22px;
  z-index: -1;
  transition: all 0.3s ease;
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-extremeFear {
  color: #ffffff !important;
  background: linear-gradient(135deg, #0000FF 0%, #4169E1 100%);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-extremeFear::before {
  background: linear-gradient(135deg, #0000FF 0%, #1E90FF 100%);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-fear {
  color: #ffffff !important;
  background: linear-gradient(135deg, #5B9BD5 0%, #87CEEB 100%);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-fear::before {
  background: linear-gradient(135deg, #4682B4 0%, #5B9BD5 100%);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-neutral {
  color: #ffffff !important;
  background: linear-gradient(135deg, #708090 0%, #9CA0B0 100%);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-neutral::before {
  background: linear-gradient(135deg, #696969 0%, #708090 100%);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-greed {
  color: #ffffff !important;
  background: linear-gradient(135deg, #F0B8CE 0%, #FFB6C1 100%);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-greed::before {
  background: linear-gradient(135deg, #FF69B4 0%, #F0B8CE 100%);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-extremeGreed {
  color: #ffffff !important;
  background: linear-gradient(135deg, #D24A93 0%, #FF1493 100%);
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  animation: sentimentPulseIntense 1.5s ease-in-out infinite;
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-extremeGreed::before {
  background: linear-gradient(135deg, #C71585 0%, #D24A93 100%);
}

.market-sentiment-view .left-panel .panel-sentiment-value.sentiment-extremeFear {
  animation: sentimentPulseIntense 1.5s ease-in-out infinite;
}

/* 脈動動畫效果 - 更明顯的跳動 */
@keyframes sentimentPulse {

  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  25% {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  }

  50% {
    transform: scale(1.08);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
  }

  75% {
    transform: scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  }
}

/* 極端情緒的更強烈脈動 */
@keyframes sentimentPulseIntense {

  0%,
  100% {
    transform: scale(1);
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
  }

  20% {
    transform: scale(1.08);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  40% {
    transform: scale(1.12);
    box-shadow: 0 12px 35px rgba(0, 0, 0, 0.35);
  }

  60% {
    transform: scale(1.08);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  80% {
    transform: scale(1.04);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.2);
  }
}

/* Hover 效果 */
.market-sentiment-view .left-panel .panel-sentiment-value:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  animation-play-state: paused;
}

/* 極小螢幕調整 */
@media (max-width: 480px) {
  .market-sentiment-view .left-panel .panel-sentiment-value {
    padding: 5px 10px;
    font-size: 0.8rem;
    letter-spacing: 0.3px;
    border-radius: 16px;
  }

  .market-sentiment-view .left-panel .panel-sentiment-value::before {
    border-radius: 18px;
  }

  /* 在小螢幕上減少動畫效果以提升性能 */
  @media (prefers-reduced-motion: reduce) {
    .market-sentiment-view .left-panel .panel-sentiment-value {
      animation: none;
    }
  }
}

/* 組成指標的情緒顏色 */
.market-sentiment-view .composition-sentiment.sentiment-extremeFear {
  color: #0000FF !important;
}

.market-sentiment-view .composition-sentiment.sentiment-fear {
  color: #5B9BD5 !important;
}

.market-sentiment-view .composition-sentiment.sentiment-neutral {
  color: #708090 !important;
}

.market-sentiment-view .composition-sentiment.sentiment-greed {
  color: #F0B8CE !important;
}

.market-sentiment-view .composition-sentiment.sentiment-extremeGreed {
  color: #D24A93 !important;
}

.market-sentiment-view .composition-sentiment.sentiment-notAvailable {
  color: #6c757d !important;
}

/* 組成指標的長條圖顏色 */
.market-sentiment-view .composition-bar.sentiment-extremeFear {
  background-color: #0000FF !important;
}

.market-sentiment-view .composition-bar.sentiment-fear {
  background-color: #5B9BD5 !important;
}

.market-sentiment-view .composition-bar.sentiment-neutral {
  background-color: #708090 !important;
}

.market-sentiment-view .composition-bar.sentiment-greed {
  background-color: #F0B8CE !important;
}

.market-sentiment-view .composition-bar.sentiment-extremeGreed {
  background-color: #D24A93 !important;
}

.market-sentiment-view .composition-bar.sentiment-notAvailable {
  background-color: #ced4da !important;
}

/* 確保在觸摸設備上的滾動行為正常 */
@media (hover: none) and (pointer: coarse) {
  .market-sentiment-view .indicator-chart-container {
    touch-action: pan-x pan-y;
  }
}

.market-sentiment-view .view-mode-selector {
  display: flex;
  justify-content: center;
  margin-bottom: 20px;
}

.market-sentiment-view .view-mode-button {
  padding: 8px 16px;
  margin: 0 5px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s ease;
  background-color: #e0e0e0;
  color: #333;
}

.market-sentiment-view .view-mode-button.active {
  background-color: #4a4a4a;
  color: white;
}

/* Gauge 相關樣式已移至 MarketSentimentGauge 組件 */


/* 移除舊的 1280px 斷點樣式 */

@media (max-width: 768px) {
  .market-sentiment-view .indicator-chart-container {
    margin-bottom: 0px;
    /* 在小螢幕上使用較小的間距 */
    padding-bottom: 0px;
  }

  .market-sentiment-view .analysis-description {
    margin-top: 20px;
    /* 在小螢幕上使用較小的間距 */
  }
}

/* Gauge 相關樣式已移至 MarketSentimentGauge 組件 */

@media (min-width: 1024px) {
  .market-sentiment-view .last-update-time {
    font-size: 15px;
  }
}

/* 新增：確保 analysis-result 置中 */
.market-sentiment-view .indicator-item .analysis-result,
.composition-modal .indicator-item .analysis-result {
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: 30px;
  padding: 1% 2%;
  margin: 0 0;
  /* PriceAnalysis 用的是 margin: 10px 0; MarketSentiment 原本是 margin: 10px auto; */
  overflow: visible;
  text-align: center;
}

.market-sentiment-view .indicator-item .analysis-result .analysis-item,
.composition-modal .indicator-item .analysis-result .analysis-item {
  display: flex;
  flex-direction: column;
  gap: 6px;
  min-width: 100px;
  max-width: 200px;
  flex-shrink: 1;
  align-items: center;
  padding: 0px 7px;
}

.market-sentiment-view .indicator-item .analysis-result .analysis-label,
.composition-modal .indicator-item .analysis-result .analysis-label {
  font-size: 1em;
  color: #6c757d;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.market-sentiment-view .indicator-item .analysis-result .analysis-value,
.composition-modal .indicator-item .analysis-result .analysis-value {
  font-size: 1.3em;
  font-weight: 600;
  color: #2c3e50;
  /* 基礎顏色，會被下方的情緒顏色覆蓋 */
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
}


@media (min-width: 769px) and (max-width: 1280px) {
  .market-sentiment-view .content-layout-container {
    min-height: 500px;
    /* Minimum height for smaller desktop screens */
    height: auto;
    /* Auto height based on content */
  }

  .market-sentiment-view .indicator-item .analysis-result,
  .composition-modal .indicator-item .analysis-result {
    padding: 0px 10px;
  }

  .market-sentiment-view .indicator-item .time-range-selector {
    margin: 5px auto;
  }

  /* Gauge 相關樣式已移至 MarketSentimentGauge 組件 */

  .market-sentiment-view .last-update-time {
    /* margin-top: 20px; REMOVED */
    /* margin-bottom: 50px; REMOVED */
    /* Font size and other properties specific to this breakpoint can remain if needed */
  }

  /* Optimize composition list for 1280x720 and similar resolutions */
  .composition-item {
    padding: 6px 10px;
    margin-bottom: 1px;
  }

  .composition-list {
    gap: 3px;
  }

  .composition-emotion-tag {
    flex: 0 0 105px;
    /* Increased from 85px to 105px for better text display */
  }
}

/* 響應式設計調整 for analysis-result */
@media (max-width: 768px) {

  .market-sentiment-view .indicator-item .analysis-result,
  .composition-modal .indicator-item .analysis-result {
    align-items: flex-start;
    gap: 15px;
    padding: 0px;
  }

  .market-sentiment-view .indicator-item .analysis-result .analysis-item,
  .composition-modal .indicator-item .analysis-result .analysis-item {
    max-width: none;
  }

  .market-sentiment-view .indicator-item .analysis-result .analysis-value,
  .composition-modal .indicator-item .analysis-result .analysis-value {
    font-size: 1.2em;
  }

  /* 下方是原本 MarketSentimentIndex 在此斷點下的 .indicator-item padding，決定是否保留 */
  .market-sentiment-view .indicator-item {
    padding: 20px 15px 70px 15px;
    margin-bottom: 0px;
  }
}

/* 移除舊的 view-mode-selector-container 樣式，因為已經在右側面板中重新定義了 */

/* 移除舊的 view-mode-button 樣式，因為已經在右側面板中重新定義了 */

/* 移除舊的 768px 斷點樣式，因為已經在右側面板樣式中處理了 */

/* 新增情緒文字顏色 */
/* 更新：使用英文鍵名 */
.market-sentiment-view .indicator-item .analysis-result .analysis-value.sentiment-extremeFear,
.composition-modal .indicator-item .analysis-result .analysis-value.sentiment-extremeFear {
  color: #0000FF;
  /* 極度恐懼 - 深綠色 */
}

.market-sentiment-view .indicator-item .analysis-result .analysis-value.sentiment-fear,
.composition-modal .indicator-item .analysis-result .analysis-value.sentiment-fear {
  color: #5B9BD5;
  /* 恐懼 - 綠色 */
}

.market-sentiment-view .indicator-item .analysis-result .analysis-value.sentiment-neutral,
.composition-modal .indicator-item .analysis-result .analysis-value.sentiment-neutral {
  color: #708090;
  /* 中性 - 黃色 */
}

.market-sentiment-view .indicator-item .analysis-result .analysis-value.sentiment-greed,
.composition-modal .indicator-item .analysis-result .analysis-value.sentiment-greed {
  color: #F0B8CE;
  /* 貪婪 - 橘色 */
}

.market-sentiment-view .indicator-item .analysis-result .analysis-value.sentiment-extremeGreed,
.composition-modal .indicator-item .analysis-result .analysis-value.sentiment-extremeGreed {
  color: #D24A93;
  /* 極度貪婪 - 紅色 */
}

@media (max-width: 430px) {

  .market-sentiment-view .indicator-item .analysis-result,
  .composition-modal .indicator-item .analysis-result {
    align-items: flex-start;
    gap: 2px;
    padding: 0px;
  }

  /* Gauge 相關樣式已移至 MarketSentimentGauge 組件 */

  /* 如果 analysis-label 在此斷點下也需要強制換行，可以類似處理 */
  .market-sentiment-view .indicator-item .analysis-result .analysis-label,
  .composition-modal .indicator-item .analysis-result .analysis-label {
    white-space: normal;
    max-width: 100px;
  }

  .market-sentiment-view .view-mode-selector-container {
    margin-bottom: -1.5%;
  }

}

@media (max-width: 375px) {

  .market-sentiment-view .indicator-item .analysis-result,
  .composition-modal .indicator-item .analysis-result {
    gap: 0px;
  }

  .market-sentiment-view .indicator-item .analysis-result .analysis-item,
  .composition-modal .indicator-item .analysis-result .analysis-item {
    padding: 0px 0px;
  }

  .market-sentiment-view .indicator-item .analysis-result .analysis-label,
  .composition-modal .indicator-item .analysis-result .analysis-label {
    font-size: 0.8em;
  }
}

/* 新增滑桿容器樣式 */
.market-sentiment-view .slider-container {
  width: 90%;
  /* 調整寬度以適應父容器 */
  margin: 0 auto;
  /* 上下間距，並水平置中 */
  padding: 10px;
}

/* 滑桿標籤樣式 */
.market-sentiment-view .slider-labels {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  font-size: 12px;
  color: #555;
}

/* rc-slider 客製化樣式 */
.market-sentiment-view .rc-slider-track {
  background-color: #C78F57;
  /* 與圖表主色調一致 */
}

.market-sentiment-view .rc-slider-handle {
  border-color: #C78F57;
  background-color: white;
  opacity: 1;
  /* 確保 handle 可見 */
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}

.market-sentiment-view .rc-slider-handle:focus {
  box-shadow: 0 0 0 3px rgba(199, 143, 87, 0.4);
  /* 焦點樣式 */
}

.market-sentiment-view .rc-slider-rail {
  background-color: #e9e9e9;
}

/* 響應式調整 */
@media (max-width: 768px) {
  .market-sentiment-view .slider-container {
    width: 95%;
    /* 在小螢幕上使用更大寬度 */
    margin: 15px auto;
  }

  .market-sentiment-view .slider-labels {
    font-size: 11px;
  }
}

@media (max-width: 480px) {
  .market-sentiment-view .slider-container {
    padding: 5px;
  }

  .market-sentiment-view .slider-labels {
    font-size: 10px;
    /* 在非常小的螢幕上，可以考慮隱藏標籤或使其堆疊顯示 */
    /* flex-direction: column; */
    /* align-items: center; */
  }
}

/* 新增：組成指標列表 */
.composition-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
  /* Reduced gap to fit more items */
  margin-top: 5px;
  /* Reduced margin-top */
  padding: 0 5px;
  /* Add some horizontal padding to the list */
  overflow-y: visible;
  /* No scrolling - show all items */
  flex: 1;
  /* Take available space */
  box-sizing: border-box;
  /* Ensure padding doesn't add to max-height calculation issues */
}

/* Original composition-item styles - will be overridden by EmotionTag integration styles */

/* If you remove border-bottom from .composition-item because of margin-bottom, ensure the last item doesn't have extra margin or the list has a bottom border */
.composition-list>.composition-item:last-child {
  /* border-bottom: none; /* Optional: if you want to remove the border for the last item */
  /* margin-bottom: 0; /* Optional: if you want to remove margin for the last item */
}

/* Original composition-name and composition-analysis-value styles - will be overridden by EmotionTag integration styles */

/* Old composition-bar-wrapper styles - replaced by EmotionTag integration styles */

.composition-bar {
  height: 100%;
  border-radius: 5px;
  /* Match wrapper's radius */
  transition: width 0.3s ease-in-out;
}

/* 在 430px 以下隱藏長條圖 */
@media (max-width: 430px) {
  .composition-bar-wrapper {
    display: none;
  }

  /* 調整 composition-analysis-value 的樣式以適應沒有長條圖的情況 */
  .composition-item .composition-analysis-value {
    display: none;
  }

  .composition-name {
    flex: 1 1 50%;
    /* 讓名稱佔據更多空間 */
  }

  .composition-sentiment {
    flex: 1 1 30%;
    /* 讓情緒文本佔據更多空間 */
    text-align: left;
    /* 情緒文本左對齊 */
  }

  .composition-item {
    padding: 6px 10px;
    /* Further reduced padding for mobile */
    margin-bottom: 2px;
    /* Further reduced margin */
  }

  .composition-list {
    gap: 6px;
    /* Further reduced gap for mobile */
    margin-top: 10px;
    /* Further reduced margin-top */
  }
}

/* Bar colors based on sentiment */
.composition-bar.sentiment-extremeFear {
  background-color: #0000FF;
}

.composition-bar.sentiment-fear {
  background-color: #5B9BD5;
}

.composition-bar.sentiment-neutral {
  background-color: #708090;
}

.composition-bar.sentiment-greed {
  background-color: #F0B8CE;
}

.composition-bar.sentiment-extremeGreed {
  background-color: #D24A93;
}

.composition-bar.sentiment-notAvailable {
  background-color: #ced4da;
}

/* Color for notAvailable */

/* Old composition-score-text styles - replaced by EmotionTag integration styles */


.composition-sentiment {
  flex: 0 0 20%;
  /* Allocate space for sentiment text */
  font-size: 0.8rem;
  /* Smaller font size */
  text-align: right;
  white-space: nowrap;
  /* Colors for sentiment text are now explicitly defined below */
}

/* Colors for composition-sentiment text */
.composition-sentiment.sentiment-extremeFear {
  color: #0000FF;
}

.composition-sentiment.sentiment-fear {
  color: #5B9BD5;
}

.composition-sentiment.sentiment-neutral {
  color: #708090;
}

.composition-sentiment.sentiment-greed {
  color: #F0B8CE;
}

.composition-sentiment.sentiment-extremeGreed {
  color: #D24A93;
}

.composition-sentiment.sentiment-notAvailable {
  color: #6c757d;
}

/* Muted color for notAvailable */

/* 當前及左右半顯示模態框佈局 */
.composition-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.composition-modal {
  background: #fff;
  width: 80vw;
  max-width: 800px;
  max-height: 90vh;
  overflow: auto;
  border-radius: 8px;
  padding: 20px;
  position: relative;
}

.modal-close-btn {
  position: absolute;
  top: 12px;
  right: 12px;
  background: transparent;
  border: none;
  font-size: 24px;
  cursor: pointer;
  z-index: 1;
}

.modal-description {
  margin-top: 5%;
}

@media (min-width: 1280px) {
  .modal-description {
    margin-top: 12%;
  }
}

/* 當前及左右半顯示模態框佈局 */
.composition-carousel {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  /* 由子元素決定點擊 */
}

.composition-modal {
  position: absolute;
  width: 80vw;
  max-width: 700px;
  max-height: 90vh;
  overflow: auto;
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  pointer-events: auto;
  transition: opacity 0.3s, transform 0.3s;
}

.composition-modal.current {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 1;
  height: 80%;
  z-index: 101;
}

.composition-modal .indicator-item {
  height: 70%;
  box-shadow: none;
  /* 移除陰影 */
  border: none;
  /* 移除邊框 */
}

.composition-modal .indicator-item .indicator-chart {
  height: 65%;
}

.composition-modal.prev {
  top: 50%;
  left: 0;
  transform: translate(-50%, -50%);
  opacity: 0.8;
  /* 設定透明度為 0.5 */
  filter: grayscale(100%);
  /* 將顏色轉為灰階 */
  z-index: 100;
}

.composition-modal.next {
  top: 50%;
  left: 100%;
  transform: translate(-50%, -50%);
  opacity: 0.8;
  /* 設定透明度為 0.5 */
  filter: grayscale(100%);
  /* 將顏色轉為灰階 */
  z-index: 100;
}

/* 新增：走馬燈箭頭 */
.carousel-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 2rem;
  color: #fff;
  opacity: 0.7;
  pointer-events: auto;
  cursor: pointer;
  z-index: 102;
  width: 15%;
  /* 增加可點擊區域寬度 */
  height: 15%;
  /* 增加可點擊區域高度 */
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.3s;
}

.carousel-arrow:hover {
  opacity: 1;
}

.carousel-arrow--left {
  left: 18%;
  /* 固定在左側 10% 的位置 */
}

.carousel-arrow--right {
  right: 18%;
  /* 固定在右側 10% 的位置 */
}

/* 在1024px以下隱藏箭頭 */
@media (max-width: 1024px) {
  .carousel-arrow {
    display: none;
  }
}

/* 移除最新數據視圖樣式，因為已經不需要了 */

/* 新增：歷史視圖樣式 */
.market-sentiment-view .history-view {
  height: 100%;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.market-sentiment-view .history-view .indicator-chart {
  flex: 1;
  min-height: 0;
  margin-bottom: 10px;
}

/* 新增：組成視圖樣式 */
.market-sentiment-view .composition-view {
  height: 100%;
  overflow-y: visible;
  /* No scrolling - show all items */
  display: flex;
  flex-direction: column;
}

/* 響應式設計：手機版回到垂直佈局 */
@media (max-width: 1023px) {
  .market-sentiment-view .content-layout-container {
    flex-direction: column;
    height: auto;
  }

  .market-sentiment-view .left-panel {
    flex: none;
    height: 400px;
  }

  .market-sentiment-view .left-panel .panel-header {
    margin-bottom: 15px;
  }

  .market-sentiment-view .right-panel {
    flex: none;
    min-height: 400px;
  }

  /* Old composition styles removed - handled by EmotionTag integration styles */
}

/* Medium tablets - handled by EmotionTag integration styles */

@media (max-width: 767px) {
  .market-sentiment-view .content-layout-container {
    flex-direction: column;
    gap: 15px;
    height: auto;
  }

  .market-sentiment-view .left-panel,
  .market-sentiment-view .right-panel {
    flex: none;
    height: auto;
    min-height: 350px;
    /* 增加高度以容納下移的元素 */
  }

  .market-sentiment-view .left-panel .panel-header {
    text-align: center;
    margin-bottom: 25px;
  }
}

/* EmotionTag integration styles - Redesigned layout */
.composition-emotion-tag {
  flex: 0 0 120px;
  /* Increased from 100px to 120px for longer text like "Extreme Greed" */
  display: flex;
  justify-content: center;
}

/* Override existing composition-item styles for better layout */
.composition-item {
  display: flex;
  align-items: center;
  gap: 8px;
  /* Reduced gap to accommodate wider EmotionTag */
  padding: 8px 12px;
  /* Reduced padding to fit more items */
  border-bottom: 1px solid #e8e8e8;
  cursor: pointer;
  transition: background-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;
  border-radius: 4px;
  margin-bottom: 2px;
  /* Reduced margin to fit more items */
  background-color: #ffffff;
  flex-shrink: 0;
}

/* Three-column layout: Name | Bar+Score | EmotionTag */
.composition-item .composition-name {
  flex: 0 0 28%;
  /* Reduced from 35% to 28% for better centering */
  font-weight: 500;
  font-size: 0.85rem;
  color: #333;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 8px;
}

.composition-item .composition-analysis-value {
  flex: 1;
  /* Take remaining space between name and emotion tag */
  display: flex;
  align-items: center;
  justify-content: center;
  /* Center the content horizontally */
  min-width: 0;
  /* Allow shrinking */
  padding-right: 8px;
}

/* Ensure bar wrapper takes most of the analysis-value space */
.composition-bar-wrapper {
  flex: 1;
  height: 10px;
  background-color: #e9ecef;
  border-radius: 5px;
  overflow: hidden;
  margin-right: 8px;
  min-width: 60px;
  /* Minimum width to maintain visibility */
}

.composition-score-text {
  flex: 0 0 auto;
  font-size: 0.8rem;
  font-weight: 600;
  color: #1d1d1f;
  min-width: 35px;
  text-align: right;
}

/* Hide the old composition-sentiment styles since we're using EmotionTag now */
.composition-sentiment {
  display: none;
}

/* Enhanced hover effect for the redesigned layout */
.composition-item:hover {
  background-color: #f8f9fa;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

.composition-item:hover .composition-emotion-tag {
  transform: scale(1.05);
}

/* Responsive adjustments for the new layout */
@media (max-width: 1023px) {
  .composition-emotion-tag {
    flex: 0 0 110px;
    /* Increased from 90px to 110px for tablets */
  }

  .composition-item .composition-name {
    flex: 0 0 26%;
    /* Reduced for better centering on tablets */
    font-size: 0.8rem;
  }

  .composition-score-text {
    font-size: 0.75rem;
    min-width: 30px;
  }
}

@media (max-width: 767px) {
  .composition-emotion-tag {
    flex: 0 0 100px;
    /* Increased from 80px to 100px for mobile */
  }

  .composition-item {
    gap: 8px;
    padding: 8px 10px;
  }

  .composition-item .composition-name {
    flex: 0 0 25%;
    /* Reduced for better centering on mobile */
    font-size: 0.75rem;
  }

  .composition-bar-wrapper {
    min-width: 50px;
    height: 8px;
  }

  .composition-score-text {
    font-size: 0.7rem;
    min-width: 28px;
  }
}

@media (max-width: 430px) {

  /* On very small screens, simplify to two-column layout */
  .composition-item .composition-analysis-value {
    display: none;
    /* Hide the bar and score */
  }

  .composition-item .composition-name {
    flex: 1;
    /* Take most space */
  }

  .composition-emotion-tag {
    flex: 0 0 70px;
    /* Smaller fixed width */
  }

  .composition-item {
    gap: 8px;
    padding: 8px 10px;
  }
}