# Upgrade Notification 測試指南

## 測試目的
驗證 upgrade notification 在 subscription plans 頁面的正確顯示和功能。

## 測試場景

### 1. 基本顯示測試
**步驟：**
1. 訪問需要 Pro 方案的功能（如觀察清單）
2. 系統應該重定向到 `/subscription-plans` 頁面
3. 檢查頁面頂部是否顯示升級通知

**預期結果：**
- 升級通知出現在頁面頂部，在標題之前
- 通知有藍色漸變背景
- 包含標題和說明文字
- 有關閉按鈕（×）

### 2. 視覺設計測試
**檢查項目：**
- [ ] 通知背景：藍色漸變 (#007AFF 到 #5856D6)
- [ ] 圓角：16px
- [ ] 陰影效果：有藍色陰影
- [ ] 動畫：從上方滑入效果
- [ ] 關閉按鈕：右上角，半透明白色背景

### 3. 響應式測試
**桌面版 (>768px)：**
- [ ] 通知寬度適應容器
- [ ] 標題字體：20px
- [ ] 內容字體：16px

**平板版 (≤768px)：**
- [ ] 通知 padding 調整為 20px
- [ ] 標題字體：18px
- [ ] 內容字體：15px

**手機版 (≤480px)：**
- [ ] 通知 padding 調整為 16px
- [ ] 圓角調整為 12px
- [ ] 標題字體：16px
- [ ] 內容字體：14px
- [ ] 關閉按鈕：28x28px

### 4. 功能測試
**關閉功能：**
1. 點擊關閉按鈕（×）
2. 通知應該消失
3. 頁面其他內容正常顯示

**無障礙測試：**
- [ ] 關閉按鈕有 aria-label
- [ ] 鍵盤可以導航到關閉按鈕
- [ ] 顏色對比度符合 WCAG 標準

### 5. 暗色模式測試
**檢查項目：**
- [ ] 背景漸變調整為較亮的藍色 (#0A84FF 到 #5E5CE6)
- [ ] 陰影顏色調整
- [ ] 文字顏色保持白色

## 測試數據

### 模擬重定向狀態
```javascript
// 在瀏覽器控制台中執行，模擬從 ProtectedRoute 重定向
window.history.replaceState({
  reason: 'watchlist_upgrade_required',
  message: '觀察清單功能需要升級到 Pro 方案',
  from: '/watchlist'
}, '', '/subscription-plans');

// 然後重新載入頁面
window.location.reload();
```

## 已知問題修復

### 修復前的問題：
1. ❌ 升級通知沒有 CSS 樣式
2. ❌ 位置不夠突出
3. ❌ 缺少視覺層次
4. ❌ 沒有動畫效果

### 修復後的改進：
1. ✅ 添加了完整的 CSS 樣式
2. ✅ 位置移到頁面頂部
3. ✅ 使用藍色漸變背景突出顯示
4. ✅ 添加滑入動畫效果
5. ✅ 響應式設計支持
6. ✅ 暗色模式支持

## 預期用戶體驗

用戶訪問需要升級的功能時：
1. 被重定向到訂閱方案頁面
2. 立即看到頂部的升級通知，清楚說明為什麼需要升級
3. 可以選擇關閉通知繼續瀏覽方案
4. 通知設計與整體 Apple 風格一致